<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Test AJAX page</title>
    <link rel="stylesheet" type="text/css" href="./lab_styles.css" />
  </head>

  <body>
    <div class="container">
      <div class="wrapper">
        <div class="header">UMD Bus Routes</div>
        <button class="button" onclick="loadData()">Load Some JSON</button>
        <div class="content">
          <ul class="unorderlist"></ul>
        </div>
        <div class="footer"></div>
      </div>
    </div>
    <script>
      function loadData() {
        fetch('https://api.umd.io/v0/bus/routes')
          .then(res => res.json())
          .then(routes => {
            // you can now work in this area
            console.log(routes)
            let listText = "<ul>";
            let num = 0
            let code = "Code: "

            for (i=0;i<routes.length; i++)
            {
              listText+=
              "<li>" + routes[i].title + ", " + str + routes[i].route_id
            }
            listText += "</ul>";
            document.getElementsByTagName("ul")[0].innerHTML= listText;
            return routes;


          })
          .then(res=> res)
          .then(res=> {
            nameOfRoute = red.find(({route_id}) => route_id = "127");
            console.log(nameOfRoute);
            document.getElementsByTagName("div")[2].innerHTML =
            "UMD Bus Route" + " " + nameOfRoute.title;
            return nameOfRoute; })}
    </script>
  </body>
</html>
